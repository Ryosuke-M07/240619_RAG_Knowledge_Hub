# README

## RAG KnowledgeHub の使用方法

このREADMEは、RAG (Retrieval-Augmented Generation) を利用したWebアプリケーションの使用方法について説明します。このアプリケーションは、ユーザーがPDFファイルをアップロードし、質問に対してPDFから関連情報を取得することができます。

### 準備するもの
- **OpenAI APIキー**
  - APIキーはOpenAI社のHPからご自身で作成してください。（[OpenAI](https://platform.openai.com/docs/overview)）
  - 初めて作成する場合は、3ヶ月間無料で使える5ドルのクレジットが付与されます。
  - ※1回答0.005ドル前後（GPT-3.5の場合、生成文の長さによります）

### 使い方

1. **ログイン**
   - サイドバーから「Username」と「Password」を入力し、「Login」ボタンをクリックします。
   - ログイン後、個別のセッションIDが生成されます。

2. **OpenAI APIキーの入力**
   - サイドバーにOpenAI APIキーを入力して、Enterキーを押してください。
   - ※誤ったAPIキーを入力しても先に進むことができます。生成がうまくできない、エラーが出るなどの場合にはAPIキーが正しく入力されているか確認してください。

3. **メニューの選択**
   - サイドバーから以下のメニューを選択できます：

     Ⅰ. **PDF Upload**
        - PDFファイルをアップロードし、ベクトルストアを構築します。
        - 初めにこのページで任意のPDFをアップロードしましょう。
        - ※アップロード後、「Uploaded ファイル名.pdf」が表示されるまで次の操作をしないでください。

     Ⅱ. **Ask My PDF(s)**
        - アップロードしたPDFに対して質問を行い、関連する情報を取得します。
        - 「Query」欄に質問を入力してください。自然言語（普段使う言葉）で問題ありません（例：○○の目的ってなんですか？）。
        - 自身の質問【Query】、生成AIの回答【result】←回答の部分、回答に用いた文章【source_documents】

     Ⅲ. **List Uploaded PDFs**
        - アップロードされたPDFの一覧を表示します。
        - これまでにアップロードしたPDFファイルのファイル名称を確認することができます。

     Ⅳ. **Delete Database**
        - データベースを削除し、アップロードされたPDFをリセットします。
        - 「データベースを削除」ボタンを押すことで、アップロードしたPDFのデータベースをすべて削除します。
        - 任意の文書だけ削除することはできません。
        - ※削除しない限り、Streamlitのサーバー上に残り続けます。同じ「Username」「Password」でログインしない限り、ご自身がアップロードしたPDFには質問することができませんが、使用後は念のため削除することをお勧めします。

### 使用上の注意点

- **OpenAI APIキーの取り扱い**
  - APIキーは個人情報です。他者に共有しないようにしてください。

- **セッション情報の保存**
  - セッション情報はデータベースに保存されます。情報漏洩を防ぐため、機密文書等のアップロードは控えてください。

### トラブルシューティング

- **PDFのアップロードができない場合**
  - ファイル形式がPDFであることを確認してください。
  - ファイルサイズが大きすぎる場合（200MB以上）、アップロードに失敗することがあります。適切なファイルサイズに調整してください。

- **質問に対する回答が取得できない場合**
  - OpenAI APIキーが正しいか確認してください。
  - スキャン文書は読み込めない可能性が高いです。Word等からテキストを判別できる形でPDFに出力するようにしてください。

### 利用の想定

同じ「Username」「Password」を使えばPCが違っても同じデータベースに質問することができます。そのため、複数人でログイン情報を共有し、それぞれがPDFをアップロードすることで、たとえば「ある業務のフローや作業に詳しい生成AI」を作成することも可能かと思います（ある作業にものすごく詳しい人格を形成するイメージ）。

このアプリケーションは、情報検索と生成モデルを組み合わせて、PDFから効率的に情報を引き出すことを目的としています。ご質問や不明点があれば、開発者までご連絡ください。本アプリによるいかなる損失についても開発者は責任を取りかねます。ご了承ください。
